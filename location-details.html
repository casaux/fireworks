<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <title>myCASA</title>
      <meta name="viewport" content="width=device-width">
      <meta name="viewport" content="initial-scale=1">
      <link rel="stylesheet" href="../mycasa-src-3.0/css/designsystem.min.css">
      <link rel="stylesheet" href="../mycasa-src-3.0/css/casa.css">
      <script type="text/javascript" src="../mycasa-src-3.0/js/designsystem.min.js"></script>
      <script type="text/javascript" src="../mycasa-src-3.0/js/jquery.min.js"></script>
      <script type="text/javascript" src="../mycasa-src-3.0/js/jquery.js"></script>
	  <script type="text/javascript" src="va.js"></script> 
      <script type="text/javascript">
         /* page specific js */
        $(document).on('submit','#fireworks',function(){
            
             if( $("#name").val().toLowerCase() != "mandurah lake"){
                   $("#mandurah2").css("display","none");
                 $("#map2").css("display","none");
                  $("#mandurah1").css("display","block");
                 $("#map1").css("display","block");
                 
             } else {
                   $("#mandurah1").css("display","none");
                 $("#map1").css("display","none");
                   $("#mandurah2").css("display","block");
                 $("#map2").css("display","block");
                 
             }
             
                 $("html, body").animate({ scrollTop: 0 }, 600);


             
             return false;
             
             
             
        
         }); 
         
      </script>
	         <style>
         .map-container {
            width: 800px;
            height: 500px;
         }
         .map-container h1#firstHeading {
            margin-top: 10px;
            font-size: 26px;
         }
         .map-container div#content {
            text-align: center;
         }
         .map-container #bodyContent p:first-of-type {
            max-width: 70%;
            margin: auto;
            padding-bottom: 15px;
            border-bottom: 2px dashed #0001;
         }
         .au-body .map-container *+p {
            margin-top: 15px;
            margin-bottom: 5px;
         }
         #pac-container {
            margin-bottom: 30px;
         }
         #pac-container label {
            display: block;
            font-weight: bold;
            color: #313131;
            display: block;
            font-size: 16px;
            font-size: 1rem;
            line-height: 1.5;
         }
         #pac-container input {
            width: 100%;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            font-size: 16px;
            font-size: 1rem;
            line-height: 1;
            padding: 8px 16px;
            padding: .5rem 1rem;
            height: 46px;
            height: 2.875rem;
            border: 3px solid gray;
            background-color: #fff;
            font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
            color: #313131;
            border-radius: 4px;
            vertical-align: middle;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
         }
         .gm-control-active:hover>img:nth-child(2) {
            display: none;
         }
         .gm-control-active:hover>img:nth-child(1) {
            display: block !important;
         }
         .gm-control-active:hover>img:nth-child(3) {
            top: 0px !important;
            display: none !important;
         }
         .gm-control-active {
            margin-top: 0px !important;
         }
         .gm-style .gm-style-iw-c {
            padding: 15px !important;
            /* top: -15px !important; */
         }
         /* .gm-style .gm-style-iw-t::after {
            top: -15px !important;
         } */
      </style>
   </head>
   <body class="live-demo au-body au-grid">
      <main class="au-grid">
         <div class="header">
            <div class="container">
               <div class="row">
                  <div class="logo au-body au-body--dark">
                     <a href="index.html"><img src="../mycasa-src/img/CASALOGO-white-i.svg"></a>
                  </div>
                  <div class="casa-menu">
                  
                  	<div id="dropdown-menu">
						<div id="dd-menu"><a class="au-btn au-btn--dark menu" href="#"><img src="../mycasa-src/img/menu.png" height="20" />Menu</a></div>
						<div id="dd-close"><a class="au-btn au-btn--dark menu" href="#"><img src="../mycasa-src/img/close.png" height="20" />Close</a><br />
						<br />
						<p id="mycasa-home"><a href="#">myCASA home</a></p>
						<p><a href="#">Switch profile</a></p>
						<p><a href="mycasa-signed-out.html">Sign out</a></p>
						</div>
                  
                  
                  </div>
               </div></div>
            </div>
         </div>
         <div class="body">
			<div class="banner">
				<div class=container>
					<div class="row">
					 <div class="col-md-12">
				This service is currently in beta, we encourage you to <a href="feedback.html">provide feedback</a>
				</div>
				</div>
			</div>
		</div>
         <div class="container">
               <nav class="au-breadcrumbs" aria-label="breadcrumb">
                  <ul class="au-link-list au-link-list--inline">
                     <li><a href="index.html">myCASA</a></li>
                     <li>Notification of a firework display</li>
                  </ul>
               </nav>
			 
			              <div class="au-body au-page-alerts au-page-alerts--info" id="mandurah1" style="display:none;">
  <h3>This location does not require a notification</h3>
  <p>Your fireworks display location is less than 5.5km (three nautical miles) from an aerodrome (including an airfield or helipad) and is not using projectiles capable of reaching more than 400 feet above ground level.</p>
                 
                 <p>You do not need to take any more action with CASA for this display, but you may need permissions from other bodies. <a href="https://casaux.github.io/fireworks/details-of-display.html#">Learn more on the CASA website</a>.</p>
</div>
             
               <div class="au-body au-page-alerts au-page-alerts--info" id="mandurah2" style="display:none;">
  <h3>This location will require a notification</h3>
  <p>Your fireworks display location is within 5.5km (three nautical miles) from an aerodrome (including an airfield or helipad) or is using projectiles capable of reaching more than 400 feet above ground level.</p>
                 
</div>
			 
			 
			 <div class="casa-section">
               <header class="au-header" role="banner">
                  <h1 class="break desktop au-header-heading">Notification of a firework display</h1>
                  <a class="au-direction-link" href="javascript:history.back()">
					<span class="au-direction-link__arrow au-direction-link__arrow--left" aria-hidden="true"></span>Back
					</a>
               </header>
			 </div>

<div class="row">
               	<div class="col-xs-12 col-md-12 col-lg-6">
				
<h2>Notification details</h2>
					
							<div class="au-form-group">
                        <label class="au-label" for="characteristics">Number of projectiles capable of reaching more
than 400 feet above ground level</label>
                        <input type="text" class="au-text-input au-text-input--block" id="projectiles"/>
          	</div>
                    
            <div class="au-form-group">
                  <div id="pac-container">
                     <label>Enter your address or click on the map below</label>
                        <input id="pac-input" type="text"
                            placeholder="Enter a location">
                  </div>
                  <div class="pac-card" id="pac-card">
                      </div>
                      <div id="map" class="map-container"></div>
                      <div id="infowindow-content">
                        <img src="" width="16" height="16" id="place-icon">
                        <span id="place-name"  class="title"></span><br>
                        <span id="place-address"></span>
                      </div>
            </div>
					
					            <div class="au-form-group" id="map1" style="display:none;">
                    <iframe src="../fireworks/myCASA_files/map.html" width="900" height="400"></iframe>
            </div>
                    
            <div class="au-form-group" id="map2" style="display:none;">
                    <iframe src="../fireworks/myCASA_files/map(1).html" width="900" height="400"></iframe>
            </div>
					

					


					  


				   
				<div class="au-form-group">

				<a class="au-btn" href="firework-notification-details.html">Next</a>
					




					

				</div>
				               <hr />
            <a href="arn-saved.html" class="au-btn au-btn--secondary">
            Save and exit application
            </a>  
				   
            </div>
			 </div>
			 </div>
		  </div>


          <div class="footer">
           
            <div class="footer-wrapper">
               <iframe src="../mycasa-src/footer.html" frameborder="0" border="0" scrolling="no"></iframe>
            </div>
         </div>
      </main>
      <script>
            // This example requires the Places library. Include the libraries=places
            // parameter when you first load the API. For example:
            // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">
      
            function initMap() {
              var map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: -33.8688, lng: 151.2195},
                zoom: 13,
                streetViewControl: false,
                mapTypeControlOptions: {      
                  mapTypeIds: [
                  google.maps.MapTypeId.ROADMAP,
                  google.maps.MapTypeId.SATELLITE
                  ]
               }
              });
              var card = document.getElementById('pac-card');
              var input = document.getElementById('pac-input');
              var types = document.getElementById('type-selector');
              var strictBounds = document.getElementById('strict-bounds-selector');
      
              map.controls[google.maps.ControlPosition.TOP_RIGHT].push(card);
      
              var autocomplete = new google.maps.places.Autocomplete(input);
      
              // Bind the map's bounds (viewport) property to the autocomplete object,
              // so that the autocomplete requests use the current map bounds for the
              // bounds option in the request.
              autocomplete.bindTo('bounds', map);
      
              // Set the data fields to return when the user selects a place.
              autocomplete.setFields(
                  ['address_components', 'geometry', 'icon', 'name']);
      
              var infowindow = new google.maps.InfoWindow();
              var infowindowContent = document.getElementById('infowindow-content');
              infowindow.setContent(infowindowContent);

            //   var icon = {
            //       url: "https://i.ibb.co/p2bxfJH/firework-pointer.png", // url
            //       scaledSize: new google.maps.Size(40, 40), // size
            //    };

              var marker = new google.maps.Marker({
                map: map,
                anchorPoint: new google.maps.Point(0, -29)
                //icon: icon

              });
      
              autocomplete.addListener('place_changed', function() {
                infowindow.close();
                marker.setVisible(false);
                var place = autocomplete.getPlace();
                if (!place.geometry) {
                  // User entered the name of a Place that was not suggested and
                  // pressed the Enter key, or the Place Details request failed.
                  window.alert("No details available for input: '" + place.name + "'");
                  return;
                }
      
                // If the place has a geometry, then present it on a map.
                if (place.geometry.viewport) {
                  map.fitBounds(place.geometry.viewport);
                } else {
                  map.setCenter(place.geometry.location);
                  map.setZoom(17);  // Why 17? Because it looks good.
                }
                marker.setPosition(place.geometry.location);
                marker.setVisible(true);
      
                var address = '';
                if (place.address_components) {
                  address = [
                    (place.address_components[0] && place.address_components[0].short_name || ''),
                    (place.address_components[1] && place.address_components[1].short_name || ''),
                    (place.address_components[2] && place.address_components[2].short_name || '')
                  ].join(' ');
                }
               
                positionLat = place.geometry.location.lat();
                positionLong = place.geometry.location.lng();
               //  infowindowContent.children['place-icon'].src = place.icon;
               //  infowindowContent.children['place-name'].textContent = place.name;
               //  infowindowContent.children['place-address'].textContent = address;
                infowindow.setContent('<div id="content">'+
                 '<div id="siteNotice">'+
                 '</div>'+
                 '<h1 id="firstHeading" class="firstHeading">Fireworks Location</h1>'+
                 '<div id="bodyContent">'+
                 '<p>You have selected this location for your fireworks event</p>'+
                 '<p>The latitude and longitude co-ordinates are<br><i>'+
                  positionLat + "  " + positionLong +
                 '</i></p>'+
                 '</div>'+
                 '</div>');
                infowindow.open(map, marker);
                console.log(positionLat + " && " + positionLong);

                //placeMarkerAndPanTo(place.latLng, , place.marker, infowindow);

              });

                  map.addListener('click', function(e) {
                     placeMarkerAndPanTo(e.latLng, map, marker, infowindow);
                  });
                  marker.addListener('click', function() {
                     infowindow.open(map, marker);
                  });
            }
            
            function placeMarkerAndPanTo(latLng, map, marker, infowindow) {
             marker.setPosition(latLng);
             console.log(latLng);
             marker.setMap(map);
            //  marker.setIcon('https://i.ibb.co/p2bxfJH/firework-pointer.png');
             /* marker.setLabel("Fireworks KABOOM!".concat(latLng)); */
             infowindow.setContent('<div id="content">'+
                 '<div id="siteNotice">'+
                 '</div>'+
                 '<h1 id="firstHeading" class="firstHeading">Fireworks Location</h1>'+
                 '<div id="bodyContent">'+
                 '<p>You have selected this location for your fireworks event</p>'+
                 '<p>The latitude and longitude co-ordinates are<br><i>'+
                 latLng +
                 '</i></p>'+
                 '</div>'+
                 '</div>');
             infowindow.open(map, marker);
            //  marker.setAnimation(google.maps.Animation.BOUNCE);
             map.panTo(latLng);
         }
            
          </script>
       <script async defer
       src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAYVqls0yovzchh_QOgF59ERyLlY8b6WnY&callback=initMap&libraries=places&sensor=false">
       </script>

      <!-- <script type="text/javascript" src="http://maps.google.com/maps/api/js?libraries=places&sensor=false"></script> -->
   </body>
</html>